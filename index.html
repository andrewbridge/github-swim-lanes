<!DOCTYPE html>
<html>
<head>
	<title>GitHub Swim Lanes</title>
</head>
<body>
	<div id="noAuth">
		<a href="https://github.com/login/oauth/authorize?client_id=721945c08e408de2b4f6&scope=repo">Login to GitHub</a>
	</div>
	<div id="auth">

	</div>
	<script type="text/javascript">
		function createCookie(name,value,days) {
			if (days) {
				var date = new Date();
				date.setTime(date.getTime()+(days*24*60*60*1000));
				var expires = "; expires="+date.toGMTString();
			}
			else var expires = "";
			document.cookie = name+"="+value+expires+"; path=/";
		}
		
		function readCookie(name) {
			var nameEQ = name + "=";
			var ca = document.cookie.split(';');
			for(var i=0;i < ca.length;i++) {
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1,c.length);
				if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
			}
			return null;
		}

		function eraseCookie(name) {
			createCookie(name,"",-1);
		}
	</script>
	<script type="text/javascript">
		var toDelete = 'auth';
		if (document.cookie.indexOf('GHSwimLaneToken') > -1) {
			var toDelete = 'noAuth';
		}
		var elm = document.getElementById(toDelete).remove();
		var isAuthed = toDelete === 'noAuth';
		localStorage.GHSwimLaneToken = readCookie('GHSwimLaneToken');
		eraseCookie('GHSwimLaneToken');
	</script>
</body>
</html>